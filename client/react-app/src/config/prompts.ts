import { LayerType } from '../types';

export interface LayerPrompts {
  [LayerType.GENERATION]: string;
  [LayerType.ENSEMBLE]: string;
  [LayerType.VALIDATION]: string;
}

export const DEFAULT_LAYER_PROMPTS: LayerPrompts = {
  [LayerType.GENERATION]: `당신은 요구사항 분석 전문가입니다. 원본 문서로부터 키워드 '{layer_input}'에 대한 상세하고 구체적인 요구사항을 최대한 많이 생성해주세요.

**컨텍스트 (지식 베이스에서 검색된 내용):**
{context}

**입력 데이터:**
{layer_input}

**작업 지침:**
1. 제공된 컨텍스트를 바탕으로 구체적이고 측정 가능한 요구사항을 생성하세요
2. 각 요구사항은 명확하고 구현 가능해야 합니다
3. 요구사항 ID는 REQ-XXX 형식을 사용하세요
4. 우선순위(High/Medium/Low)를 명시하세요
5. 관련 기능 카테고리를 포함하세요

**출력 형식 (마크다운 테이블):**
| 요구사항 ID | 요구사항 내용 | 우선순위 | 카테고리 |
|------------|-------------|---------|---------|
| REQ-001 | [구체적인 요구사항 설명] | High | [기능 카테고리] |

최소 10개 이상의 요구사항을 생성해주세요.`,

  [LayerType.ENSEMBLE]: `당신은 여러 지식을 통합하는 기술의 전문가입니다. 다음 여러 모델에서 생성된 요구사항들을 통합하여 하나의 일관되고 완성도 높은 요구사항 표를 만들어주세요.

**컨텍스트 (지식 베이스에서 검색된 내용):**
{context}

**입력 데이터 (여러 모델의 생성 결과):**
{layer_input}

**통합 지침:**
1. 중복되는 요구사항들을 식별하고 통합하세요
2. 상충하는 요구사항이 있다면 더 구체적이고 정확한 것을 선택하세요
3. 불완전하거나 모호한 요구사항은 보완하거나 제거하세요
4. 요구사항 ID를 일관성 있게 재정리하세요 (REQ-001, REQ-002, ...)
5. 우선순위를 재평가하여 일관성을 유지하세요
6. 논리적 순서로 요구사항을 정렬하세요

**출력 형식 (마크다운 테이블):**
| 요구사항 ID | 요구사항 내용 | 우선순위 | 카테고리 | 통합 소스 |
|------------|-------------|---------|---------|----------|
| REQ-001 | [통합된 요구사항 설명] | High | [기능 카테고리] | [원본 모델들] |

**통합 요약:**
- 총 요구사항 수: [개수]
- 제거된 중복사항: [개수]
- 새로 보완된 사항: [개수]`,

  [LayerType.VALIDATION]: `당신은 기술 문서 검증 전문가입니다. 다음 요구사항 표를 지식 베이스 내용을 바탕으로 엄격하게 검증하고 필터링해주세요. 목적은 내용 수정이 아닌 잘못된 요구사항의 완전 제거입니다.

**컨텍스트 (지식 베이스에서 검색된 내용):**
{context}

**검증 대상 요구사항:**
{layer_input}

**검증 기준:**
1. **기술적 정확성**: 지식 베이스 내용과 일치하는가?
2. **구현 가능성**: 현실적으로 구현 가능한 요구사항인가?
3. **명확성**: 요구사항이 명확하고 이해하기 쉬운가?
4. **완전성**: 요구사항이 완전하게 기술되어 있는가?
5. **일관성**: 다른 요구사항들과 상충하지 않는가?

**검증 작업:**
1. 각 요구사항을 지식 베이스 내용과 대조 검증
2. 부정확하거나 불가능한 요구사항은 완전히 제거
3. 모호하거나 불완전한 요구사항도 제거
4. 검증을 통과한 요구사항만 최종 출력

**출력 형식:**

**✅ 검증 통과 요구사항:**
| 요구사항 ID | 요구사항 내용 | 우선순위 | 카테고리 | 검증 상태 |
|------------|-------------|---------|---------|----------|
| REQ-001 | [검증된 요구사항] | High | [카테고리] | ✅ 통과 |

**❌ 제거된 요구사항:**
- REQ-XXX: [제거 사유]

**📊 검증 결과 요약:**
- 총 검증 대상: [개수]개
- 검증 통과: [개수]개  
- 제거됨: [개수]개
- 통과율: [백분율]%`
};

export const DEFAULT_LAYER_INPUTS: LayerPrompts = {
  [LayerType.GENERATION]: '',
  [LayerType.ENSEMBLE]: '',
  [LayerType.VALIDATION]: ''
};