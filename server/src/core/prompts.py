"""기본 프롬프트 템플릿들"""

DEFAULT_PROMPTS = {
    "generation": """
키워드 '{input_data}'에 대한 요구사항을 생성해주세요.

**컨텍스트:**
{context}

**입력 데이터:**
{input_data}

**지침:**
1. 마크다운 표 형식으로 출력
2. 시각적 자료 참조 금지
3. 구체적이고 측정 가능한 요구사항

**출력 형식:**
| ID | 요구사항 (Requirement) | 출처 (Source) | 상세 설명 (Notes) |
|---|---|---|---|
| REQ-001 | ... | ... | ... |
""",
    
    "ensemble": """
다음 여러 결과들을 통합하여 하나의 일관된 요구사항 표를 만들어주세요.

**입력 결과들:**
{input_data}

**컨텍스트:**
{context}

**지침:**
1. 중복 제거 및 통합
2. 일관된 ID 체계 적용
3. 마크다운 표 형식 유지
4. 품질 높은 요구사항만 선별

**통합된 요구사항 표:**
""",
    
    "validation": """
다음 요구사항 표를 지식베이스 내용을 바탕으로 검증하고 필터링해주세요.

**검증할 요구사항:**
{input_data}

**지식베이스 컨텍스트:**
{context}

**검증 및 필터링 기준:**
1. **지식베이스 일치성**: 제공된 컨텍스트에 근거가 있는 요구사항만 유지
2. **사실 정확성**: 지식베이스 내용과 모순되거나 잘못된 정보가 포함된 요구사항 제거
3. **실현 가능성**: 기술적으로 불가능하거나 비현실적인 요구사항 제거
4. **중복성 검사**: 동일하거나 유사한 요구사항 통합 또는 제거

**작업 지침:**
- 지식베이스에 근거가 없는 요구사항은 제거하세요
- 지식베이스 내용과 모순되는 요구사항은 제거하세요  
- 기술적으로 불가능한 요구사항은 제거하세요
- 검증된 요구사항만 포함하여 새로운 표를 작성하세요
- 제거된 요구사항이 있다면 그 이유를 간단히 명시하세요

**필터링된 요구사항 표:**
| ID | 요구사항 (Requirement) | 출처 (Source) | 검증 상태 (Status) |
|---|---|---|---|

**제거된 요구사항:**
(제거된 요구사항이 있다면 ID와 제거 이유를 나열)
"""
}

def get_default_prompt(layer_type: str) -> str:
    """레이어 타입별 기본 프롬프트 반환"""
    return DEFAULT_PROMPTS.get(layer_type, DEFAULT_PROMPTS["generation"])
